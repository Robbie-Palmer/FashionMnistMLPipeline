schema: '2.0'
stages:
  download_train_data:
    cmd: python fashmnistmlpipeline/download_data.py True processed
    deps:
    - path: fashmnistmlpipeline/download_data.py
      md5: 79cbb6395739016bac9a0f22c870b6ad
      size: 895
    outs:
    - path: data/FashionMNIST/processed
      md5: 971edf6f90eb4eb4fa15271f159245b0.dir
      size: 30329107
      nfiles: 60000
    - path: data/FashionMNIST/raw
      md5: ccdd6829f21df1a9b1ef43481ea19b4e.dir
      size: 85828693
      nfiles: 8
  train_model:
    cmd: python fashmnistmlpipeline/train.py
    deps:
    - path: data/FashionMNIST/processed
      md5: 971edf6f90eb4eb4fa15271f159245b0.dir
      size: 30329107
      nfiles: 60000
    - path: fashmnistmlpipeline/train.py
      md5: 521c44d170e96aac69474ee4b777e75e
      size: 1741
    params:
      fashmnistmlpipeline/params.yml:
        train:
          seed: 42
          pretrained: true
          valid_pct_split: 0.2
          num_epochs: 2
          architecture: resnet18
          metric_target_average_fn: weighted
    outs:
    - path: data/model/learner.pkl
      md5: 2f3674771a1d774f34a84055d7b6c384
      size: 50183174
    - path: data/model/model.pth
      md5: fb646f4f8aef6da7a293d8599bce864e
      size: 46929017
