schema: '2.0'
stages:
  download_train_data:
    cmd: python fashmnistmlpipeline/download_data.py True processed
    deps:
    - path: fashmnistmlpipeline/download_data.py
      md5: 79cbb6395739016bac9a0f22c870b6ad
      size: 895
    outs:
    - path: data/FashionMNIST/processed
      md5: 971edf6f90eb4eb4fa15271f159245b0.dir
      size: 30329107
      nfiles: 60000
    - path: data/FashionMNIST/raw
      md5: ccdd6829f21df1a9b1ef43481ea19b4e.dir
      size: 85828693
      nfiles: 8
  train_model:
    cmd: python fashmnistmlpipeline/train.py
    deps:
    - path: data/FashionMNIST/processed
      md5: 971edf6f90eb4eb4fa15271f159245b0.dir
      size: 30329107
      nfiles: 60000
    - path: fashmnistmlpipeline/train.py
      md5: 89b3901141a5d38cdcdf07d670716e7c
      size: 2471
    params:
      fashmnistmlpipeline/params.yml:
        train:
          seed: 42
          pretrained: true
          valid_pct_split: 0.2
          num_epochs: 2
          architecture: resnet18
          metric_target_average_fn: weighted
    outs:
    - path: data/model/actual_vs_predicted.csv
      md5: 68903b8c7b5a04d9a4bd9d2d2774869e
      size: 48017
    - path: data/model/learner.pkl
      md5: 9aa5efe7a4fafd1279ef1069af17dcbe
      size: 50183174
    - path: data/model/model.pth
      md5: 3bc6bd81476486c31334c92acce38062
      size: 46929017
    - path: data/model/results.json
      md5: 9387b0506f919e4bd3b8937e4dc074d0
      size: 336
